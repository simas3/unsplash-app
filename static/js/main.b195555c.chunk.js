(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(68),o=a.n(i),c=a(5),s=a(6),u=a(10),l=a(7),m=a(9),h=a(8),p=a(13),y=a(71),d=a(76),b=a(22),E={total:void 0,images:[],queryHistory:[],loading:!1},f=Object(p.c)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGES_LOADING":return Object(b.a)({},e,{loading:!0});case"GET_IMAGES":return Object(b.a)({},e,{total:t.payload.total,images:t.payload.results,loading:!1});case"SAVE_QUERY":return Object(b.a)({},e,{queryHistory:Object(d.a)(e.queryHistory).concat([t.payload])});case"DELETE_QUERY":return Object(b.a)({},e,{queryHistory:e.queryHistory.filter(function(e,a){return a!==t.payload})});case"DELETE_QUERIES":return Object(b.a)({},e,{queryHistory:[]});default:return e}}}),g=[y.a],v=Object(p.e)(f,{},Object(p.d)(p.a.apply(void 0,g),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),O=a(29),j=a(11),q=a(72),_=a.n(q),S=function(e){return function(t){t(N()),_.a.get("https://cors-anywhere.herokuapp.com/https://api.unsplash.com/search/photos/?page=1&per_page=30&query=".concat(e,"&client_id=").concat("84a125beb7f426abfaf2ab64ed69391d24634f6051317d586a7863e15906fa00"),{headers:{Origin:"https://api.unsplash.com/search/photos/?page=1&per_page=30&query=".concat(e,"&client_id=").concat("84a125beb7f426abfaf2ab64ed69391d24634f6051317d586a7863e15906fa00")}}).then(function(e){t({type:"GET_IMAGES",payload:e.data})}).catch(function(e){t({type:"GET_IMAGES",payload:{}})})}},N=function(){return{type:"IMAGES_LOADING"}},k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={query:"",error:""},a.onChange=a.onChange.bind(Object(j.a)(Object(j.a)(a))),a.onSearch=a.onSearch.bind(Object(j.a)(Object(j.a)(a))),a.onSave=a.onSave.bind(Object(j.a)(Object(j.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"onSearch",value:function(e){e.preventDefault(),this.state.query?(this.props.getImages(this.state.query),this.setState({error:"",query:""})):this.setState(function(){return{error:"Please Enter Your Search Query"}})}},{key:"onSave",value:function(e){e.preventDefault(),this.state.query?(this.props.saveQuery(this.state.query),this.setState({error:"",query:""})):this.setState(function(){return{error:"Can't save empty query"}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"query",onSubmit:this.onSearch},r.a.createElement("input",{className:"query__input",placeholder:"Search images...",name:"query",value:this.state.query,onChange:this.onChange}),r.a.createElement("button",{type:"submit",className:"button"},"Search"),r.a.createElement("button",{type:"button",className:"button",onClick:this.onSave},"Save")),this.state.error&&r.a.createElement("p",{className:"query-error"},this.state.error))}}]),t}(n.Component),w=Object(h.b)(function(e){return{}},{getImages:S,saveQuery:function(e){return function(t){t({type:"SAVE_QUERY",payload:e})}}})(k),C=a(73),Q=function(e){return r.a.createElement("div",{className:"image-item"},r.a.createElement("a",{href:e.link},r.a.createElement("img",{className:"image",src:e.url,alt:""})))},I=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.images,a=t.images,n=t.loading,i=t.total;return n?e=r.a.createElement("div",{className:"spinner"},r.a.createElement(C.ClipLoader,{sizeUnit:"px",size:100,color:"#8357c5;",loading:n})):"undefined"!=typeof a&&null!=a&&null!=a.length&&a.length>0?(console.log(a),e=r.a.createElement("div",{className:"images-grid"},a.map(function(e){return r.a.createElement(Q,{url:e.urls.thumb,link:e.links.html,key:e.id})}))):void 0!==i&&0===a.length&&(e=r.a.createElement("div",{className:"query-error"},r.a.createElement("p",null,"There was no images found"))),r.a.createElement("div",{className:"flex-images"},e)}}]),t}(n.Component),D=Object(h.b)(function(e){return{images:e.images}})(I),T=function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header__title"},e.title),e.subtitle&&r.a.createElement("h2",{className:"header__subtitle"},e.subtitle)))};T.defaultProps={title:"Unsplash App"};var A=T,G=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onQueryClick",value:function(){this.props.getImages(this.props.query)}},{key:"onRemove",value:function(){this.props.deleteQuery(this.props.count-1)}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"queryoption"},r.a.createElement("button",{className:"querybutton querybutton--link",onClick:this.onQueryClick.bind(this)},this.props.count,". ",this.props.query),r.a.createElement("button",{className:"querybutton querybutton--link",onClick:this.onRemove.bind(this)},"x"))}}]),t}(n.Component),R=Object(h.b)(null,{deleteQuery:function(e){return function(t){console.log("delete"),t({type:"DELETE_QUERY",payload:e})}},getImages:S})(G),U=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteQueries",value:function(){this.props.deleteQueries()}},{key:"render",value:function(){var e=this.props.images.queryHistory;return r.a.createElement("div",{className:"flex-queries"},e.length>0?r.a.createElement("div",{className:"querylist"},r.a.createElement("div",{className:"querylist-header"},r.a.createElement("h3",{className:"querylist-header__title"},"Your Saved Queries"),r.a.createElement("button",{className:"querybutton querybutton--link",onClick:this.deleteQueries.bind(this)},"X")),e.map(function(e,t){return r.a.createElement(R,{key:t,query:e,count:t+1})})):null)}}]),t}(n.Component),L=Object(h.b)(function(e){return{images:e.images}},{deleteQueries:function(){return function(e){e({type:"DELETE_QUERIES"})}}})(U),x=(a(168),a(170),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:v},r.a.createElement("div",{className:"App"},r.a.createElement(A,{subtitle:"Explore the largest open collection of high-quality photos."}),r.a.createElement(w,null),r.a.createElement("div",{className:"flex-container"},r.a.createElement(D,null),r.a.createElement(L,null))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){e.exports=a(172)}},[[77,2,1]]]);
//# sourceMappingURL=main.b195555c.chunk.js.map